{"links": {"self": {"href": "data/repositories/osrf/gazebo9-release/issues/2/comments/49725721.json"}, "html": {"href": "#!/osrf/gazebo9-release/issues/2#comment-49725721"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/gazebo9-release/issues/2.json"}}, "type": "issue", "id": 2, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo9-release.json"}, "html": {"href": "#!/osrf/gazebo9-release"}, "avatar": {"href": "data/bytebucket.org/ravatar/{5487cdc4-c60e-4fa1-bbbc-871d5f56b0e8}ts=default"}}, "type": "repository", "name": "gazebo9-release", "full_name": "osrf/gazebo9-release", "uuid": "{5487cdc4-c60e-4fa1-bbbc-871d5f56b0e8}"}, "title": "gz sdf converter fails due to socket issues"}, "content": {"raw": "I typically use this repo to host packaging metadata so unless we think that we want to solve this by hosting an architecture patch outside of upstream code (I think it is not a good idea) it probably will fit better in gazebo or ignition-transport.\n\nAnyway some thoughts on the problem: seems to me like we are using qemu-arm emulation to run the build so the problem could be related the lack of support of qemu for the `Unsupported setsockopt level=0 optname=32` IP_MULTICAST_IF flag. I can replicate the problem by running:\n\n```\ndocker run --rm -i -t osrf/ubuntu_armhf:bionic /bin/bash\nsudo apt-get update && sudo apt-get install -y gazebo9\ngz\n```\nWithout looking the internals of the `gz` tool I agree with Tully that we probably don't need a socket to run this operation. @caguero either we fix the problem on `ign-transport` or in gazebo source code or both.", "markup": "markdown", "html": "<p>I typically use this repo to host packaging metadata so unless we think that we want to solve this by hosting an architecture patch outside of upstream code (I think it is not a good idea) it probably will fit better in gazebo or ignition-transport.</p>\n<p>Anyway some thoughts on the problem: seems to me like we are using qemu-arm emulation to run the build so the problem could be related the lack of support of qemu for the <code>Unsupported setsockopt level=0 optname=32</code> IP_MULTICAST_IF flag. I can replicate the problem by running:</p>\n<div class=\"codehilite\"><pre><span></span>docker run --rm -i -t osrf/ubuntu_armhf:bionic /bin/bash\nsudo apt-get update &amp;&amp; sudo apt-get install -y gazebo9\ngz\n</pre></div>\n\n\n<p>Without looking the internals of the <code>gz</code> tool I agree with Tully that we probably don't need a socket to run this operation. @caguero either we fix the problem on <code>ign-transport</code> or in gazebo source code or both.</p>", "type": "rendered"}, "created_on": "2019-01-03T17:16:38.089956+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 49725721}